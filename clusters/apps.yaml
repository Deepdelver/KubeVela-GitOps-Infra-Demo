apiVersion: core.oam.dev/v1beta1
kind: Application
metadata:
  name: argo-apps
spec:
  components:
    - name: apps
      type: kustomize
      properties:
        repoType: git
        url: https://github.com/Deepdelver/DeepDeploy
        secretRef: git-secret
        pullInterval: 1m
        git:

          ref: refs/heads/main
        path: ./argo


---
apiVersion: v1
kind: Secret
metadata:
  name: git-secret
  # namespace: default
  # labels:
  # argocd.argoproj.io/secret-type: repository
type: kubernetes.io/basic-auth
stringData:
  type: git
  url: https://github.com/Deepdelver/DeepsLab
  password: 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
  username: Deepdelver
